"use strict";var addOfferToCartStart=function(t){tdCore.cart.animateCartAddButton(t)},addOfferToCartEnd=function(t){tdCore.cart.stopCartAddAnimation(t)};webSettings.set_handler(function(t){webSettings.isControl(t,Constants.zw_UserMessage.ID)&&$("[data-send-message]")&&($(".send-message-line").css("display","none"),$(".send-message-hdr").css("display","none"),$(".modal-header").css("height","50px"))}),$(document).ready(function(){var t=document.getElementsByClassName("details-total-image")[0];function o(){var t=document.getElementsByClassName("modal-header-img-details")[0];document.documentElement.clientHeight<600&&document.documentElement.clientWidth<900&&t&&t.classList.add("modal-header-cross")}function i(){var t=document.getElementById("full-img-prev"),e=document.getElementById("full-img-next"),n=t.getElementsByTagName("span")[0],a=e.getElementsByTagName("span")[0];a&&a.addEventListener("click",function(){setTimeout(function(){o(),i()},400)}),n&&n.addEventListener("click",function(){setTimeout(function(){o(),i()},400)})}t&&t.addEventListener("click",function(){setTimeout(o,300),setTimeout(i,300)}),window.addEventListener("orientationchange",function(){document.getElementsByClassName("popup-close-default")[0].click(),setTimeout(function(){t.click()},300),setTimeout(o,600)},!1)}),webSettings.set_handler(function(){$(document).ready(function(){$(".offer__info_more").click(function(){var t=$(this).parent().find(".title");t.length?t.remove():$(this).parent().append('<span class="title">'+$(this).parent().attr("title")+"</span>")}),$(".offer__store_text").click(function(){var t=$(this).parent().find(".title");t.length?t.remove():$(this).parent().append('<span class="title">'+$(this).parent().attr("title")+"</span>")})})}),webSettings.set_handler(function(){$(document).ready(function(){for(var t=document.getElementsByClassName("offer__store_info"),e=t.length-1;0<=e;e--){""===t[e].title&&t[e].remove()}})}),webSettings.set_handler(function(){$(document).ready(function(){$(".header-banner__button-click").on("click",function(){$(".comagic-c-sitephone-label__bubble").trigger("click")}),$(".parts-banner__request__submit").on("click",function(){$(".comagic-c-sitephone-label__bubble").trigger("click")})})});var tdCore=function(){var e,n,o,a,t,i,r,s,c,d={isMobileDevice:function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e},MOBILE_LEFT_MENU_ACTIVE_CLASS:"aside__left_active",BACKDROP_SELECTOR:".backdrop"},l={init:function(){$(".brands-slider__container").slick({infinite:!0,slidesToScroll:1,prevArrow:".brands-slider__prev",nextArrow:".brands-slider__next",slidesToShow:10,variableWidth:!0,autoplay:!0,autoplaySpeed:5e3})}},u={init:function(){$(document).on("click",".offer__get-price",function(){!function(t){var e=(t=$(t)).attr("data-product-art"),n=t.attr("data-product-name"),a=t.attr("data-product-brand"),o="Здравствуйте! Интересует цена товара: ".concat(a," ").concat(e," ").concat(n);$("[name='message']").val(o)}(this)}),$(document).on("click","a[data-product-buy-one-click]",function(){!function(){var t=$("span[data-product-brand]").html(),e=$("span[data-product-article]").html(),n=$("span[data-product-name]").html(),a="Здравствуйте! Интересует покупка товара:";void 0!==t&&(a+="\nБренд: "+t),void 0!==e&&(a+="\nАртикул: "+e),void 0!==n&&(a+="\nНаименование товара: "+n),$("[name='message']").val(a)}()}),$(document).on("click","input[name='add_usermessage'].question__submit",function(){!function(){var t=$("input[name='question-vin']").val();if(0<t.length){var e="запрос по VIN: Номер VIN или шасси: "+t+" Наименование или описание запчасти: "+$("input[name='message'].question__input").val();$("input[name='message'].question__input").val(e)}}()}),$(document).on("change","[data-message-name]",function(){!function(t){var e=$(t).ownerControl(),n=e.find("[data-message-name]").map(function(){return $(this).data("message-name")+": "+$(this).val()}).get().join(", ");e.find("[name=message]").val(n)}(this)})}},m=(o="[data-search-watermark]",a="[data-search-line-icon]",t="a[data-search-type]",i="active",r=[],s=function(t,e,n){t=$(t),void 0===e&&(e=t.ownerControl()),void 0===n&&(n=e.find(a)),t.val()?n.show():n.hide()},c=function(t){for(var e="catalog-groups__showed",n=(t=$(t)).hasClass(e),a=7;a<r.length-2;a++)$(r[a]).toggleClass("catalog-groups__group-item_hidden-xs");t.toggleClass(e),t.text(n?"Свернуть":"Показать ещё")},{init:function(){$(document).on("click",t,function(){g(this)}),$(document).on("click",a,function(t){!function(t){var e=(t=$(t)).ownerControl(),n=e.find(o);n.val(""),s(n,e,t),n.focus()}(this),t.stopPropagation()}),$(document).on("keyup",o,function(){s(this)}),$(document).on("click",".catalog-groups__show-more",function(){c(this)}),e=$(t),n=$(Constants.zw_SearchOptions.ID),f(n),function(){var t=ZetaHistory.getCurrentParameters(),e=t["tab-search-line"];if(!e||"search-by-vin"==e){var n=t.vin||t.laximosearch_vin;n&&($(o).val(n),e="search-by-vin")}if(e){var a=$("#".concat(e));a.length&&g(a)}}(),webSettings.set_handler(function(t){webSettings.isControl(t,Constants.zw_SearchOptions.ID)&&f($(t)),webSettings.isControl(t,Constants.zw_CatalogGroups2.ID)&&function(){var t=$(Constants.zw_CatalogGroups2.ID).find(".catalog-groups-wrapper"),e=$(".catalog-groups__show-more");t.length&&e.length&&(9<(r=t.children()).length?c(e):$(r[r.length-1]).hide())}()})}});function g(t){var a=$(t);e.filter("."+i).removeClass(i),a.addClass(i),n.each(function(){var t=$(this),e=t.find("input[data-search-type]"),n=t.find(o);e.val(a.data("search-type")),n.attr("placeholder",a.data("search-watermark"))})}function f(t){t.each(function(){var t=$(this),e=t.find(o);s(e,t)})}var h,p,v,w,b,_,C,k,y,x,S,E,z,I,T,A,D,L,X=(w=".aside-catalog-toggle-btn",b=$([]),C=_=!1,k=function(){p.filter(":hidden").show(),v.html("Свернуть"),v.addClass("expanded-tree")},y=function(){setTimeout(function(){var t=p.filter(":not(:has(a[data-toggle-link].expanded))").filter(":not(:has(a[data-toggle-link].active))");if(tdCore.core.isMobileDevice())t.filter("[data-sortorder='9999999999']").hide();else if(b.length){k();var e=b.height(),n=h.height(),a=b[0].getBoundingClientRect().bottom;e<=n&&t.filter(function(){return this.getBoundingClientRect().bottom>=a}).hide(),v.html("Показать больше"),v.removeClass("expanded-tree")}},400)},{init:function(){"/offers/"==window.location.pathname?b=$(Constants.zw_ProductOffers.ID):"/catalog/"==window.location.pathname?b=$(Constants.zw_SelectedCatalogGroup.ID).last():"/search/"==window.location.pathname&&(b=$(Constants.zw_ProductSearchByCodeOrText.ID)),h=$(Constants.zw_CatalogTree2.ID);var t=$(".aside-catalog__hdr-catalog").parent();$(t).on("click",function(){y()}),$(document).on("click",w,function(){v.hasClass("expanded-tree")?y():k()}),webSettings.set_handler(function(t){webSettings.isControl(t,Constants.zw_Catalog.ID+", "+Constants.zw_CatalogGroups2.ID+", "+Constants.zw_CatalogTree2.ID)&&(webSettings.isControl(t,Constants.zw_Catalog.ID)&&(C=!0),webSettings.isControl(t,Constants.zw_CatalogGroups2.ID)&&(C=!0),webSettings.isControl(t,Constants.zw_CatalogTree2.ID)&&(_=!0,v=$(w),p=h.find(".catalog-tree__item_bgc_dark")),_&&C&&y())}),$(document).on("click",".catalog-tree__link:not(.aside-catalog-toggle-btn)",function(){$("#ccphleft").removeClass(d.MOBILE_LEFT_MENU_ACTIVE_CLASS),$(d.BACKDROP_SELECTOR).fadeOut("fast")})}}),O=(x="icon-013",{init:function(){$(document).on("click",".header-cart:not(.active)",function(){$(".header-cart").addClass("active"),$(".modal-backdrop").removeClass("backdrop")}),$(document).on("click",".header-cart__close, .header-cart.active, .modal-backdrop",function(){$(".header-cart").removeClass("active"),$(".modal-backdrop").addClass("backdrop")})},animateCartAddButton:function(t){$(t).addClass(x)},stopCartAddAnimation:function(t){$(t).removeClass(x)}}),B=(I="#details-description-show-more",T="active",A="[data-collapsable-offers]",D="[data-row-in-stock]",L="[data-action-expand-offers]",{init:function(){S=$(I),z=$(".details-prop-and-desc");var t=$(".details___img-wrapper_v2");0<S.length&&z.height()>t.height()&&(E=$(".details-description"),S.css("display","block"),j(),$(document).on("click",I,function(){S.hasClass(T)?j():(S.addClass(T),S.text("Свернуть"),E.css("height","inherit"))})),$(document).on("click",L,function(){return function(t){var e=(t=$(t)).closest(A).find(D).filter("[data-offer-collapsable]");return"collapsed"==t.attr("data-mode")?(e.show(),t.attr("data-mode","expanded"),t.text("Скрыть предложения")):(e.hide(),t.attr("data-mode","collapsed"),t.text("Все предложения")),!1}(this)}),webSettings.set_handler(function(t){webSettings.isReadyOrControl(t,Constants.zw_Catalog.ID+", "+Constants.zw_ProductOffers.ID+", "+Constants.zw_ProductAnaloguesOffers.ID)&&function(){var t=$(A);t.length&&t.each(function(){var t=$(this),e=t.find(D);if(e.length){var a={},o=new Set,n=t.find("[data-offers-actions-container]"),i=0;for(var r in e.each(function(){var t=$(this),e="true"==t.attr("data-is-first-row")||"true"==t.attr("data-row-in-stock")||"true"==t.attr("data-row-in-transit")||"true"==t.attr("data-row-today"),n=t.find(".offer__store_desc").text();e?(o.has(n)||o.add(n),t.show()):(a[n]||(a[n]=t),i++,t.attr("data-offer-collapsable","true"))}),a)if(!o.has(r)){var s=a[r];s.show(),s.removeAttr("data-offer-collapsable"),i--}n.find(L).attr("data-mode","collapsed"),0==i&&n.hide()}})}()})}});function j(){S.removeClass(T),S.text("Открыть полное описание"),E.css("height","179px")}var q,N,P=(q="[data-phone-login]",N="[data-login-or-email-login]",{init:function(){$(document).on("keyup",q,function(){M(this)}),$(document).on("change",q,function(){M(this)}),$(document).on("keyup",N,function(){R(this)}),$(document).on("change",N,function(){R(this)}),$(document).on("change","[data-password-switcher]",function(){!function(t){var e=(t=$(t)).ownerControl().find("[data-password]");t.is(":checked")?e.attr("type","text"):e.attr("type","password")}(this)}),$(document).on("change","[data-login-switcher]",function(){!function(t){var e=(t=$(t)).ownerControl(),n="phone"===t.data("login-switcher"),a=e.find("[data-login-switcher-target-label]"),o=e.find("[data-login-switcher-source]"),i=e.find("[data-login-switcher-target]");o.val(""),i.val(""),n?o.removeAttr("data-login-or-email-login").attr("data-beautify","phone").attr("data-phone-login","").attr("regex","\\+7 \\([0-9]{3}\\) [0-9]{3}-[0-9]{2}-[0-9]{2}").attr("data-val-regex","Пожалуйста, введите телефонный номер в формате +7 (XXX) XXX-XX-XX"):o.removeAttr("data-phone-login").removeAttr("data-beautify").removeAttr("regex").removeAttr("data-val-regex").attr("data-login-or-email-login",""),a.text(n?"Телефон":"Логин / почта")}(this)})}});function R(t){var e=(t=$(t)).ownerControl().find("[data-login-or-email-login-target]"),n=t.val();e.val(n)}function M(t){var e=(t=$(t)).ownerControl().find("[data-phone-login-target]"),n=t.val();n=(n=n.replace(/[^\d]/g,"")).substring(1,11),e.val(n)}return $(document).ready(function(){l.init(),m.init(),X.init(),O.init(),P.init(),u.init(),B.init()}),{core:d,cart:O}}(),tdValidation=function(){function e(t,e){if(e.selectionStart===e.selectionEnd&&36!==t.keyCode&&36!==t.which&&35!==t.keyCode&&35!==t.which){var n=e.value.trim();if(0!==n.length&&"+"!==n){var a=/[^\d]/g,o=$(e).data(m)<=e.selectionStart,i=n.length===e.selectionStart,r=0===n.indexOf("+"),s=e.selectionStart;0<s&&(s=n.substring(0,e.selectionStart).replace(a,"").length+(r?1:0));var c=0===(n=n.replace(a,"")).indexOf("7")||0===n.indexOf("8");c&&(n=n.substring(1,n.length)),c||s++,r||s++;var d="+7",l=n.substring(0,3);if(0<l.length&&(d+=" ("+l,3===l.length&&0<(l=n.substring(3,6)).length&&(d+=") "+l,3===l.length&&0<(l=n.substring(6,8)).length&&(d+="-"+l,2===l.length&&0<(l=n.substring(8,10)).length&&(d+="-"+l)))),i)s=d.length;else{var u=0;(2<s||o&&2===s)&&(u+=2),(5<s||o&&5===s)&&(u+=2),(8<s||o&&8===s)&&u++,(10<s||o&&10===s)&&u++,s+=u}e.value=d,e.focus(),e.setSelectionRange(s,s)}}}var t="[data-beautify*='phone']",m="beautify-last-caret-position";$(document).ready(function(){$(document).on("keydown",t,function(t){$(this).data(m,this.selectionStart)}),$(document).on("keyup",t,function(t){e(t,this)}),$(document).on("change",t,function(t){e(t,this)}),webSettings.set_handler(function(){$("#29cc9588-67be-11e7-80f5-001dd8b741ce").unmask(),$("#29cc9588-67be-11e7-80f5-001dd8b741ce").attr("data-beautify","phone"),$(t).attr("regex","\\+7 \\([0-9]{3}\\) [0-9]{3}-[0-9]{2}-[0-9]{2}").attr("data-val-regex","Пожалуйста, введите телефонный номер в формате +7 (XXX) XXX-XX-XX")})})}(),jsLoader=function(){function a(t,e){e&&(t.addEventListener?t.addEventListener("load",e,!1):t.attachEvent?t.attachEvent("onload",e):t.onload=e)}return{onload:a,load:function(t,e){var n=document.createElement("script");n.src=t,document.body.appendChild(n),a(n,e)}}}(),apiClient=function(){var t=void 0,e=function(){t=new SwaggerClient({url:"/core/docs/v2/api.json",requestInterceptor:function(t){t.body&&!t.headers["Content-Type"]&&(t.headers["Content-Type"]="application/json")}})};return jsLoader.onload(window,function(){jsLoader.load("https://unpkg.com/swagger-client@3.10.0/browser/index.js",e)}),{instance:function(){return t}}}();jsLoader.onload(window,function(){jsLoader.load("/f/truckdrive.delay.min.js")});